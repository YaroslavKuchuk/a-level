# Урок №32. SOLID

## Полезные ссылки

[SOLID](https://blog.byndyu.ru/2009/10/solid.html)

[Шпаргалка по SOLID-принципам с примерами на PHP](https://habr.com/post/208442/)

[Принципы SOLID](https://metanit.com/sharp/patterns/5.1.php)


## Сложности в работе с ранее созданными проектами

* «Дорогие» изменения – менять сложно, код спутанный, много непредсказуемых affected areas

* Невозможность разделить систему на компоненты

![Говнокод](/Module-5/images/shitty.png)

Начало 2000-х

S – Single responsibility (единственная ответственность)

O – Open/Closed

L – Принцип подстановки Барбары Лисков

I – Сегрегация интерфейсов

D – Принцип инверсии зависимостей

![SOLID](/Module-5/images/solid.png)

Набор практик проектирования программного кода и построения гибкой и адаптивной программы. 
Данный термин был введен 15 лет назад известным американским специалистом в области программирования 
Робертом Мартином.

Принципы SOLID - это не паттерны, их нельзя назвать какими-то определенными догмами, 
которые надо обязательно применять при разработке, однако их использование позволит улучшить код программы, 
упростить возможные его изменения и поддержку.

### SRP (Single Responsibility), принцип единой ответственности.

![SRP](/Module-5/images/s-knife.png)

**У класса должна быть только одна причина для изменения**

Много причин – частые (и **неконтроллируемые**) изменения.

![SRP](/Module-5/images/s-picture.png)

**Violation**

Смешивание в одном классе функциональности разных уровней. 
Класс следует применять только для одной задачи - либо бизнес-логика, либо вычисления, либо работа с данными.

### Open/Closed

Программные сущности (классы, модули, функции и т.д.) должны быть открыты для расширения, но закрыты для изменения.

![Open/Closed](/Module-5/images/open-closed-diagram.png)

Сущности программы должны быть открыты для расширения, но закрыты для изменения.

Суть этого принципа состоит в том, что система должна быть построена таким образом, что все ее последующие изменения должны быть 
реализованы с помощью добавления нового кода, а не изменения уже существующего.

**Violation**

"Жестко связанный" код.

### Принцип Барбары Лисков

![Liskov](/Module-5/images/liskov.png)

Руководство по созданию иерархий наследования.

Класс S может считаться подклассом T, если замена объектов T на объекты S не приведет к изменению работы программы.

**Должна быть возможность вместо базового типа подставить любой его подтип.**

![Liskov](/Module-5/images/liskov-diagram.png)

Инварианты (Invariants) — все условия базового класса - также должны быть сохранены и в подклассе

Инварианты - это некоторые условия, которые остаются истинными на протяжении всей жизни объекта. 
Как правило, инварианты передают внутреннее состояние объекта.

Принцип подстановки Лисков заставляет задуматься над правильностью построения иерархий классов 
и применения полиморфизма, позволяя уйти от ложных иерархий наследования и делая всю систему классом более 
стройной и непротиворечивой.

**Violation**
 
Не применять ООП. Процедур хватит.)))

### Принцип разделения интерфейсов

![Interface segregation](/Module-5/images/interface-segregation.png)

Нет «Божественных» объектов

Нет и «Божественных» интерфейсов

Относится к тем случаям, когда классы имеют "жирный интерфейс", то есть слишком раздутый интерфейс, 
не все методы и свойства которого используются и могут быть востребованы. 
Таким образом, интерфейс получатся слишком избыточен или "жирным".

Клиенты не должны вынужденно зависеть от методов, которыми не пользуются.

![Interface segregation](/Module-5/images/segregation.png)

**Violation**

Смешивание в одном интерфейсе функциональности разных уровней.

### Принцип инверсии зависимостей

![Dependency inversion](/Module-5/images/dependency-inversion.png)

Модули верхнего уровня не должны зависеть от модулей нижнего уровня. Оба должны зависеть от абстракции.

Абстракции не должны зависеть от деталей. Детали должны зависеть от абстракций.

![Dependency inversion](/Module-5/images/dependency-inversion-wiki.png)

Служит для создания слабосвязанных сущностей, которые легко тестировать, модифицировать и обновлять.

**Violation** 

"Жестко связанный" код.

### Шпаргалка и выводы

![SOLID](/Module-5/images/solid-translation.png)

## Практика

Открываем свой **Basket**, находим нарушения принципов SOLID.

## Домашнее задание

1. Теория
2. Скачиваем - https://github.com/YaroslavKuchuk/fitness-app. Приводим в соответствие к SOLID и здравому смыслу.